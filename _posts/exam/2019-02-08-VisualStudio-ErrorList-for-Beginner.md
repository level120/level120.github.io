---
layout: post
title: 입문자가 VisualStudio에서 자주 범하는 실수
published: false
category: Univ.
tags: [c, error]
comments: true
---

자주 범하는 실수
===============

### 증상

1. 문자형으로 입력을 받기 때문에 한번 입력을 받고 난 후 반복으로 되돌아와서 다시 입력을 받을 시 아무것도 입력하지 않았는데 채워진다.
2. `scanf_s()`를 사용했는데 `scanf("%d", &num)`일땐 잘 된게 `scanf_s("%s", &num)`으로만 입력하면 얘가 미친다.
3. `seed` 값을 주려고 `srand()`에 별 짓을 다 했는데 **식이 수정할 수 있는 lvalue여야 합니다** 라고 뜬다.
4. `scanf_s()` 가 어려워서 `scanf()` 를 사용하는데 계속 `warning:4996`이 뜬다.
5. `switch`문을 사용하는데 분명 `case`에 상수를 넣었음에도 계속 `default`값으로만 나온다.
6. 평균값을 구하는데 식도 딱맞고 오류도 없는데, 계속 소수점이 짤린다.
7. 뭐 다 제대로 입력하고 코드상 밑줄도 없는데 **error LNK1120: 1개의 확인할 수 없는 외부 참조입니다.**하고 뜬다.
8. 변수나 배열 또는 구조체를 잘 입력했는데 밑줄이 사라지지 않고 **오류: 식에 정수 계열 형식이 있어야 합니다.**라고 뜬다.

---

### 해결

1. 버퍼를 비우지 않았음 / `fflush(stdin)` 문장을 입력하거나 `scanf_s(" %c", &num, sizeof(char));`로 만든다(`scanf()` 문장 차이점 : `%c` 앞에 한 칸을 띄어줌으로서 입력 버퍼 `\n`을 자동으로 없앤다).
2. `scanf_s()`는 보안형으므로, 마지막에 버퍼의 크기를 **반드시** 입력해줘야 한다. 모르면 `sizeof()`를 사용하자.
3. 무의식 중에 `=` (대입연산자)를 입력하지 않았는지 확인한다(`=`이 들어가면 `lvalue`).
4. 헤더파일 아래에 `#progma warning(disable : 4996)`을 입력한다.
5. 입력받는 변수의 자료형이 니가 원하는 형이 맞는지 다시 확인할 것. 아주 드물게 `char`형을 `int`형 처럼 사용한 일이 있다.
6. 평균계산식에는 `합계계산식 / 나눌숫자`를 사용하는데 보통 합계계산식을 `int`로 사용한다. 따라서 평균계산식 앞에 `double`을 붙여준다(`(double)합계계산식 / 나눌숫자`).
7. 현재 코드에 정의되지 않은게 나오거나 그와 비슷한 경우일때 이러한 에러나 나타난다. 주로 함수의 이름(변수, 배열, 구조체가 아니고 함수이름임)이 오타났을 경우이다. 나의경우 `main()` 이름을 무의식중에 `mian()`로 써버리는 실수가 몇번 있었다.
8. 그 밑줄친 변수(또는 배열 등)가 지역변수로 있는 동안 중복되는 이름이 있을 것이다. 대체로 함수이름과 같을 때가 많다. 함수 이름을 `SomeFeatureF()`처럼 뒤에 `F`를 붙여 구분하는 것이 편하다(ex, `printf()`, `scanf()`).
